<div class="p-4">
    <h1 class="hi-treino mb-5">Fichas de Treino</h1>

    <button class="btn btn-add btn-primary" routerLink="cad-ficha">
        + Nova Ficha
    </button>

    <div class="mt-4 d-flex align-items-center justify-content-between">
        <mat-form-field appearance="outline" class="mb-6 w-25">
            <mat-label class="text-black">Buscar Cliente</mat-label>
            <input class="text-black" type="text" matInput [formControl]="clienteControl" [matAutocomplete]="auto" />
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selecionarCliente($event.option.value)">
                <mat-option *ngFor="let cliente of clientesFiltrados" [value]="cliente.nome">
                    {{ cliente.nome }}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>
    </div>


    <div *ngFor="let ficha of fichas" class="border rounded p-4 mb-4 shadow-sm">
        <h2 class="text-xl font-semibold mb-1">Ficha {{ ficha.tipo }}</h2>
        <p class="text-sm text-gray-600">
            Grupos Musculares: {{ ficha.gruposMusculares.join(', ') }}
        </p>
        <p class="text-sm text-gray-600">Ordem: {{ ficha.ordem }}</p>
        <p class="text-sm text-gray-600 mb-3">
            Status:
            <span [ngClass]="ficha.concluida == '1' ? 'text-green-600' : 'text-red-600'">
                {{ ficha.concluida == '1' ? 'Concluída' : 'Pendente' }}
            </span>
        </p>


        <div class="mb-2">
            <h3 class="font-semibold">Exercícios:</h3>
            <ul class="list-disc pl-5">
                <li *ngFor="let ex of ficha.exercicios">
                    <strong>{{ ex.exercicio }}</strong> - {{ ex.grupo_muscular }} |
                    {{ ex.series }}x{{ ex.repeticoes }}
                    <span *ngIf="ex.observacoes"> - {{ ex.observacoes }}</span>
                </li>
            </ul>
        </div>

        <div class="flex gap-5 mt-3">
            <button class="btn btn-primary text-white">Visualizar</button>
            <button class="btn btn-warning mx-3 text-white">Editar</button>
            <button class="btn btn-danger text-white">Excluir</button>
        </div>
    </div>

</div>